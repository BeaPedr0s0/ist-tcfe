\section{Question 2- Nodal Analysis, and Req}
The purpose of this task was to compute the Req (equivalant resistance) of the circuit.

\subsection{Theoretical Analysis}
It is known that:
\begin{equation}
R_{eq}=\frac{V_{x}}{I_{x}}
\end{equation}
IN order to determine the variable aforementioned, first it was sugested to calculate it seen from the capacitors terminals. Then, using the Thevenin and Norton theorem, we put the independent voltage source to 0V. $V_{x}$ is equivalent to Thevenin's Voltage, and $I_{x}$ to Norton's Current. This is necessary because the depedent voltage short cannot be put equal to 0V(short-circuit) and the independent current source cannot be erased from the circuit.
\par
Then, the values of current of  every branch and the nodal values are obtained using node method. The matrix used in octave is the one that follows.

$\begin{bmatrix}
1 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0\\
-G1 & G1+G2+G3 & -G2 & 0 & -G3 & 0 & 0 & 0 & 0\\
0 & -G2-Kb & G2 & 0 & Kb & 0 & 0 & 0 & 0\\
0 & 0 & 0 & 1 & 0 & 0 & 0 & 0 & 0\\
0 & -G1 & 0 & 0 & -G4 & 0 & -G6 & 0 & 0\\
0 & Kb & 0 & 0 & -G5-Kb & G5 & 0 & 0 & 1\\
0 & 0 & 0 & 0 & 0 & 0 & G6+G7& -G7 & 0\\
0 & 0 & 0 & 0 & 0 & 1 & 0 & -1 & 0\\
0 & 0 & 0 & KdG6 & -1 & 0 & -Kd*G6 & 1 & 0
\end{bmatrix}$
$\begin{bmatrix}
V1 \\ V2 \\ V3 \\ V4 \\ V5 \\ V6 \\ V7 \\ I_{x}
\end{bmatrix}$
= 
$\begin{bmatrix}
0 \\ 0 \\ 0 \\ 0 \\ 0 \\ 0 \\ 0 \\ V_{x} \\ 0
\end{bmatrix}$




\subsection{Operating Point Analysis}
First of all, to contextualize the values obtained using the tools in ngspice, it is necessary to state that, as node 0 is connected to ground, its nodal voltage does not appear on the table of results. Furthermore, to be able to describe the voltage flowing in the dependent source, it is necessary to know the current in resistor 6. However, ngspice is not able to compute this value when the depedent source is described. So, in order to do that, an extra dependent voltage source (whose voltage drop is equal to 0 V) was created, and put in series after the resistor 6. This led to the appearence of node 8, that has the same voltage drop as node 6. So, by doing that, ngspice is able to determine the current in this auxiliar independent source, which is exactly the value needed.
 The circuit with these changes is shown in the drawing below.

\begin{figure}[ht] \centering
\includegraphics[width=1.0\linewidth]{simdraw.pdf}
\caption{Circuit analysed in ngspice.}
\label{simdraw}
\end{figure}

\subsection{Comparison}
After running the simulation, the results were put in the table below. Then, a careful analysis of the aforementioned table was conducted.It shows the simulated operating point results for the circuit that is being studied, allowing the group to obtain the current flowing in every risistor, the voltage in the dependent voltage source and even the current flowing in the dependent currrent source. 

A variable preceded by @ is of type {\em current} and expressed in Ampere; other variables are of type {\it voltage} and expressed in
    Volt.


In order to validate the results obtained in NGSPICE, relative errors between the theoretical values, obtained in octave and the ones obtained in ngspice, were calculated. These were put in the table below.

\begin{table}[ht] \centering
\begin{tabular}{|
>{\columncolor[HTML]{FFCC67}}l |c|}
\hline
\multicolumn{2}{|l|}{\cellcolor[HTML]{EABD8B}Relative Errors (\%)} \\ \hline
{\color[HTML]{333333} V1}               & 4.444e-05               \\ \hline
{\color[HTML]{333333} V2}               & 4.288e-05               \\ \hline
{\color[HTML]{333333} V3}               & 7.892e-05               \\ \hline
{\color[HTML]{333333} V4}               & 5.154e-05               \\ \hline
{\color[HTML]{333333} V5}               & 0                       \\ \hline
{\color[HTML]{333333} V6}               & 0                       \\ \hline
{\color[HTML]{333333} V7}               & 2.487e-05               \\ \hline
{\color[HTML]{333333} IA}               & 9.253e-05               \\ \hline
{\color[HTML]{333333} IB}               & 1.769e-05               \\ \hline
{\color[HTML]{333333} IC}               & 0                       \\ \hline
\end{tabular}
\caption{Relative Errors between Octave and NgSpice results}
\end{table}




After the anaylysis of these errors, we conclude that the accuracy is extremely high supported by the fact that the relative maximum error is 9.253e-05\%. Nevertheless, we assume that these errors are due to dissipated power in the resistors. Even so, the simulation results can be validated.




